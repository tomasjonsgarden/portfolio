<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<link rel="import" href="../../assets/libs/polymer/polymer.html">

<dom-module id="widget-poster">

	<template>
		<iron-ajax url="https://vimeo.com/api/v2/4487625/info.json" last-response="{{data}}" auto></iron-ajax>
		<style include='shared-styles'></style>
		<style>
			:host {
				display: flex;
				align-items: center;
				justify-content: space-between;
				box-sizing: border-box;
				padding: 2.4rem 1.2rem 2.4rem 1.2rem;
			}

			/*p {
				color: var(--darker-color);
				font-size: var(--medium-size);
				font-weight: 200;
				padding-right: 2rem;
				margin: 0;
				margin-bottom: 2rem;
			}

			h2 {
				color: var(--darkest-color);
				font-weight: 400;
				text-transform: uppercase;
				font-size: var(--larger-size);
				margin: 0;
				margin-bottom: 2rem;
				padding-right: 2rem;
			}*/

			iron-image {
				width: 100%;
				background-color: black;
			}

			iron-image:before {
				content: "";
				display: block;
				margin-top: 100%;
			}

			h2 {
				font-weight: 300;
				margin: 0;
			}
			.poster-image {
				flex: 1;
			}

			.poster-description {
				flex: 2;
			}
			.awards {
				display: grid;
				grid-template-columns: 1fr 1fr 1fr 1fr;
				column-gap: 30px;
			}

			@media screen and (max-width: 640px) {
				:host {
					display: block;
					-webkit-column-count: 1;
					-moz-column-count: 1;
					column-count: 1;
				}
				:host {
					padding: 1.2rem .6rem 1.2rem .6rem;
				}

				.awards {
					grid-template-columns: 1fr 1fr;
				}
			}
		</style>
		<div class="poster-image"><iron-image sizing="contain" preload fade src="/assets/images/{{title}}.jpg"></iron-image></div>
		<div class="poster-description">
			<p><b>{{getFilmTitle(title)}}</b>{{getFilmBody(title)}}</p>
			<div class="awards">
				<template is="dom-repeat" items="{{getFilmAwards(title)}}">
					<iron-image sizing="contain" preload fade src="/assets/images/{{item}}">
				</template>
			</div>
			
		</div>
		<hr />
	</template>

	<script>
		Polymer({
			is: 'widget-poster',
			properties: {
				title: {
					type: String
				}
			},
			getFilmTitle: function(title) {
				console.log({title})
				return title === "kasper_sophie" ? 'Kasper and Sophie (2022)' : 'Want To See Something? (2011)';
			},
			getFilmBody: function(title) {
				return title === "kasper_sophie" ? ' is a provocative short story of love and betrayal in the midst of adolescent mental illness. This single shot film raises the question of how far one is willing to go for the sake of love culminating in a terrible deed.' : ' Nancy wakes up at night by a sound coming from the outside and decides to go out and see what it is. Out there, she discovers that the sound comes from the unlatched gate blowing in the wind. On her way to close the gate, she notices her neighbor Sam who is out hunting. Sam hunts slugs that eat his lovely roses. We\'re quickly drawn into a complex conflict between the neighbors which has it\'s bases in a tragic event that ripped up the ties between old friends, Sam and Nancy\'s man Cliff. ';
			},

			getFilmAwards: function(title) {
				return title === "want_to_see_something" ? ["want_to_see_something_alcine.jpg","want_to_see_something_foyle_wrath.jpg","want_to_see_something_montreal.jpg","want_to_see_something_warsaw.jpg"] : []
			}

		});
	</script>

</dom-module>
